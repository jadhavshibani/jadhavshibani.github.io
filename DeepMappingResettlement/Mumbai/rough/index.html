<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    
    <!-- Load jQuery -->
    <script src="//code.jquery.com/jquery-2.1.1.min.js"> </script>
    
    <!-- Load Leaflet -->
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
    <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
    
    <link rel="stylesheet" href="../css/styledLayerControl.css" />
    <script src="../src/styledLayerControl.js"></script>
    
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:600' rel='stylesheet' type='text/css'>
    
   <!------------------------------------------------------------------------------------->
   <!--Add base map-->
   <!--------------------------------------------------------------------------------->
    
    <script>
      var map;
      var layer1;
      var layer2;
      var layer3;
      var layer4;
      var layer5;
      
    // Variables that will store our layers.   
     // layer1 is pre to post resettlement
     // layer2 is pre resettlement
     // layer3 is Manmade vulnerable locations 
     // layer4 is Resettlement locations 
     // layer5 is natural resources
      
      
      
      
      $(document).ready(function () {
//Create the map
      map = L.map('map').setView([19.10, 72.89], 11);
        
// Hide sidebar when map is clicked
        map.on('click', function () {
          $('.sidebar').hide();
        });
        
//Add base tiles 
       L.tileLayer('https://api.mapbox.com/styles/v1/jadhs825/cimuy6ra40097ahnpwvynhou7/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiamFkaHM4MjUiLCJhIjoiY2ltcXp3em9sMDBybnVubTRzem12NTR4YyJ9.Cb5AthZ_DTeyquDljjvHBQ').addTo(map);
  
        
           
        
// ---------------------------------------------------------------------------------
      // Add data loaded from GitHub.....layer1 = pre to post resettlement locations
// ---------------------------------------------------------------------------------
      
               $.getJSON('https://raw.githubusercontent.com/jadhavshibani/jadhavshibani.github.io/master/DeepMappingResettlement/Mumbai/mumbai_pre_to_post_resettlement_path.geojson').done (function (data) {

// It's crucial that we save the layer to a variable. Here set a value
                 
        layer1 = L.geoJson(data, {  
          
          // Add a popup to each "layer" (shape in the GeoJSON)
            
      onEachFeature: function (feature, layer) {
      layer.on('click', function () {
                $('.sidebar').html( 'Place of Origin: ' +feature.properties.origin + '</p><p>[Re]settlement Site: ' + feature.properties.relocation).show();
      });
        
       } ,  
          
          
        style:function (feature) {
        var style = {
            color: 'grey',
            opacity: .25,
            weight: 12
          }; 
          
          if (feature.properties.relocation == "lallubhai" ){
            style.color = '#F16626';
            
          }
          else if (feature.properties.relocation == "Natvar Parekh Compound" ){
            style.color = '#F6A63B';
          }
          
          else if (feature.properties.relocation == "Vashi Naka" ){
            style.color = '#F7c94d';
          }
          
          else if (feature.properties.relocation == "Milan Nagar" ){
            style.color = 'Yellow';
          }
          
           return style; 
          } 
                 
          }).addTo(map);
        });   
                
// ---------------------------------------------------------------------------------        
      // Add data loaded from GitHub.....layer2 = Pre resettlement locations  
// ---------------------------------------------------------------------------------
          $.getJSON('https://raw.githubusercontent.com/jadhavshibani/jadhavshibani.github.io/master/DeepMappingResettlement/Mumbai/mumbai_pre_resettlement_locations_mumbai.geojson').done (function (data) {layer2 = L.geoJson(data, {  

      // Create circles instead of standard markers
        pointToLayer: function (feature, latlng) {
          return L.circleMarker(latlng);
        },
            
    // Add a popup to each "layer" (shape in the GeoJSON)
            
      onEachFeature: function (feature, layer) {
      layer.on('click', function () {
                $('.sidebar').html( feature.properties.name_of_place_of_origin + '</p><p>' + feature.properties.type_of_dwellers).show();
      });
        
       } , 
            
            
      // styling properties for Leaflet here:http://leafletjs.com/reference.html#path-options
        style:function (feature) {
        var stylepoint = {
            fillColor: false,
            fillOpacity: 0,
            radius:  9,
            stroke: true,
            color : 'grey'
          }; 
           return stylepoint; 
          } 
          
            
          }).addTo(map);
        });
// ---------------------------------------------------------------------------------         
        // Add data loaded from GitHub.....layer3 = Manmade vulnerable locations  
// --------------------------------------------------------------------------------- 
        $.getJSON('https://raw.githubusercontent.com/jadhavshibani/jadhavshibani.github.io/master/DeepMappingResettlement/Mumbai/mumbai_man_made_vulnerable_location.geojson').done (function (data) {layer3 = L.geoJson(data, {  
        
          
          // Add a popup to each "layer" (shape in the GeoJSON)
            
      onEachFeature: function (feature, layer) {
      layer.on('click', function () {
                $('.sidebar').html( feature.properties.name + 
                                   '</p><p>' + feature.properties.subtype + 
                                   '</p><p>'+feature.properties.activity + 
                                   '</p><p><a href="' + feature.properties.reference_1 + '">' + feature.properties.ref_1_names + '</a>' +
                                   '</p><p><iframe width="250" height="154" frameborder="0" allowfullscreen src="'+feature.properties.video +'"></iframe>'
                                  ).show();
      });
        
       } , 
          
     
      // You can find all of the styling properties for Leaflet here: http://leafletjs.com/reference.html#path-options
            
        style:function (feature) {
          var style = {
            fillOpacity: 0.8,
            stroke: false
            
          }; 
          
           if (feature.properties.type == "Power Plant" ){
            style.color = '#666666'; 
          }
         
          else if (feature.properties.type == "Refinery\n") {
            // \n because there is a space in the data set after the word refinery
            style.color = '#808080';
          }
          
          else if (feature.properties.type == "Waste Disposal" ){
            style.color = '#4D4D4D';
          }
          
          else if (feature.properties.type == "Energy") {
            style.color = '#999999';
          }
          
           return style; 
          },  
          
          
          }).addTo(map);
        });    
        
// --------------------------------------------------------------------------------- 
        // Add data loaded from GitHub.....layer4 = Resettlement locations
// --------------------------------------------------------------------------------- 
       $.getJSON('https://raw.githubusercontent.com/jadhavshibani/jadhavshibani.github.io/master/DeepMappingResettlement/Mumbai/mumbai_post_resettlement_locations.geojson').done (function (data) {layer4 = L.geoJson(data, {  
             
 // You can find all of the styling properties for Leaflet here:http://leafletjs.com/reference.html#path-options
            
        style:function (feature) {
          var style = {
            
            fillOpacity: 1,
            stroke: true
          }; 
          
           if (feature.properties.status == "Existing" ){
            style.color = '#98d4c0'; 
          }
         
          else if (feature.properties.status == "Prospective") {
            
            style.color = '#BDE3d7';
             
          }
           return style; 
          } ,
         
         // Add a popup to each "layer" (shape in the GeoJSON)
            
      onEachFeature: function (feature, layer) {
       layer.on('click', function () {
                $('.sidebar').html( feature.properties.name + 
                                   '</p><p>Status: ' + feature.properties.status + 
                                   '</p><p><img width="250" height="200"src="'+feature.properties.plan + '">' +
                                   '</p><p><a href="' + feature.properties.new_links + '">' + feature.properties.link_name + '</a>'
                                  ).show();
      });
        
        
       } 
          }).addTo(map);
        });    
          
        // ---------------------------------------------------------------------------------        
      // Add data loaded from GitHub.....layer5 = natural resources   
// --------------------------------------------------------------------------------- 
        $.getJSON('https://raw.githubusercontent.com/jadhavshibani/jadhavshibani.github.io/master/DeepMappingResettlement/Mumbai/mumbai_natural_resources.geojson').done (function (data) {layer5 = L.geoJson(data, {  
            
       
 // You can find all of the styling properties for Leaflet here:http://leafletjs.com/reference.html#path-options
            
        style:function (feature) {
          var style = {
            fillColor: '#AC9E88',
            fillOpacity: .3,
            stroke: false,
            
          };  
        
           return style; 
       
          },
          
            // Add a popup to each "layer" (shape in the GeoJSON)
            
      onEachFeature: function (feature, layer) {
       layer.on('click', function () {
                $('.sidebar').html( feature.properties.name + 
                                   '</p><p>Feature: ' + feature.properties.type + 
                                   '</p><p><iframe width="250" height="154" frameborder="0" allowfullscreen src="'+feature.properties.video +'"></iframe>'
                                   
                               
                                  ).show();
      });
        
        
       } 
          
          
          
          }).addTo(map);
          
          
        });    
        
// --------------------------------------------------------------------------------- 
      // end of adding layers and editing it 
// ---------------------------------------------------------------------------------  
      // Add change handlers to the checkboxes
      //
      // If the checkbox is checked, "add" (show) the layer, if it is not,
      // "remove" (hide) the layer.
      //
      $('.layer1').change(function () {
        if ($(this).is(':checked')) {
          map.addLayer(layer1);     
        }
        else {
          map.removeLayer(layer1);     
        }
      });

      $('.layer2').change(function () {
        if ($(this).is(':checked')) {
          map.addLayer(layer2);     
        }
        else {
          map.removeLayer(layer2);     
        }
      });  
        
        $('.layer3').change(function () {
        if ($(this).is(':checked')) {
          map.addLayer(layer3);     
        }
        else {
          map.removeLayer(layer3);     
        }
      });
        
        $('.layer4').change(function () {
        if ($(this).is(':checked')) {
          map.addLayer(layer4);     
        }
        else {
          map.removeLayer(layer4);     
        }
      });
        
        $('.layer5').change(function () {
        if ($(this).is(':checked')) {
          map.addLayer(layer5);     
        }
        else {
          map.removeLayer(layer5);     
        }
      });
        
      });
      
      
      
    </script>
             
<!-----------------------------------------------------------------------------------   -->
     <!---Tabs:  refer:"http://inspirationalpixels.com/tutorials/creating-tabs-with-html-css-and-jquery"-->
<!-----------------------------------------------------------------------------------   -->
    <script>
      $(document).ready(function() {
    $('.tabs .tab-links a').on('click', function(e)  {
        var currentAttrValue = $(this).attr('href');
 // Show/Hide Tabs
        $('.tabs ' + currentAttrValue).fadeIn(350).siblings().hide();
 // Change/remove current tab to active
        $(this).parent('li').addClass('active').siblings().removeClass('active');
        e.preventDefault();
    });
});
    </script>
    
    
    
    
    
    
<!--- Style me using CSS -->
    <style>
       /*----- Web Page -----*/
    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
        width: 100%;
      }
      
       #map{ width: 100%; 
             height: 90%; min-height: 90%; 
             position: relative;
             z-index:2;
       }
      
  
      #main_title {
      margin-left: 10px;
      float: left;  
      background-color: none;
    }  
    
    h2 {
      position: absolute;
      padding:5px;
      margin:40px;
      z-index:1;
      background-color: white;
    }
      
 /* Make the sidebar appear above the map, to the right. */
       
      .sidebar {
        background: white;
        opacity: 0.85;
        display: none;
        position: absolute;
        left: 15px;
        padding: 15px;
        top: 70%;
        width: 250px;
        z-index: 2;
      }
      
      
   /*check boxes / legend */
      
       .checkboxes{
        position:absolute;
        top:1%;
        right: 10px;
        background-color: white;
        opacity: 0.85;
        padding: 15px;
        z-index:2; 
    }

     
      
      /*----- Tabs -----*/
.tabs {
    width:100%;
    display:inline-block;
    text-decoration:none;
}

    /*----- Tab Links -----*/
    .tab-links:after {
        display:block;
        clear:both;
        content:'';
    }
    .tab-links li {
        margin:0px 5px;
        list-style:none;
        float:left;
    }
        .tab-links a {
            padding:9px 15px;
            display:inline-block;
            background:#000000;
            font-size:16px;
            font-weight:600;
            color:#FFFFFF;
            transition:all linear 0.15s;
            text-decoration:none;
        }
        .tab-links a:hover {
            background:#00D4D4;
            text-decoration:none;
        }
    li.active a, li.active a:hover {
        background:#00D4D4;
        color:#4c4c4c;
        text-decoration:underline;
    }
    
    /*----- Content of Tabs -----*/
    .tab-content {
        padding:15px;
        box-shadow:-1px 1px 1px rgba(0,0,0,0.15);
        background:#fff;
    }
        .tab {
            display:none;
        }
        .tab.active {
            display:block;
        }
    </style>
  </head>
  
  <body>
    <div id="map">
      <h2> [RE]settlement</h2>
    </div>
    
    <div class="sidebar"></div>
    
   <!--  check boxes / legend -->
   <div class="checkboxes">
     <div>
       <strong> Pre [re]settlement </strong>
     </div>
     <div>
       <input type="checkbox" class="layer2" id="layer2" checked />
      <label for="layer2">Location of origin</label>
    </div>
    <div>
      <input type="checkbox" class="layer1" id="layer1" checked />
      <label for="layer1">Flow</label>
    </div>
     </br>
     <div>
       <strong>[Re]settlement Locations</strong>
       </div>
    <div>
      <input type="checkbox" class="layer4" id="layer4" checked />
      <label for="layer4">[Re]settlement Locations</label>
    </div>
    </br>
    <div>
     <strong> Existing Conditions </strong>
    </div>
    <div>
      <input type="checkbox" class="layer3" id="layer3" checked />
      <label for="layer3">Industrial Landscapes</label>
   </div>
   <div>
      <input type="checkbox" class="layer5" id="layer5" checked />
      <label for="layer5">Delta Land</label>
    </div>
     
   </div>
     
     
  <!--  Tabs -->   
      <div class="tabs">
    <ul class="tab-links">
        <!--<li class="active"><a href="#tab1">About</a></li>-->
        <li><a href="#tab1">About</a></li>
        <li><a href="#tab2">Supporting Information</a></li>
        <li><a href="#tab3">Methodology</a></li>
        <li><a href="#tab4">Next Steps</a></li>
        <li><a href="#tab5">Get Involved</a></li>
        
    </ul>
 
    <div class="tab-content">
        <!--<div id="tab1" class="tab active">-->
         <div id="tab1" class="tab">
            <p>Aim, context. What it matters?</p>
        </div>
 
        <div id="tab2" class="tab">
            <p>stattic maps, links to organizations</p>
        </div>
 
        <div id="tab3" class="tab">
            <p>Mapping technique</p>
            <p>project methodology</p>
        </div>
        
        <div id="tab4" class="tab">
            <p>Next Steps</p>
        </div>
 
        <div id="tab5" class="tab">
            <p>Who I am: </p>
            <p>Get in touch</p>
            <p>Share</p>
            
             
        </div>
    </div>
</div>

  </body>
</html>


